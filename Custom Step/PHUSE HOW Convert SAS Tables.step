{"creationTimeStamp":"2024-02-27T02:25:58.989Z","modifiedTimeStamp":"2024-02-27T02:31:49.103Z","createdBy":"phuse40","modifiedBy":"phuse40","name":"PHUSE HOW Convert SAS Tables.step","displayName":"PHUSE HOW Convert SAS Tables.step","localDisplayName":"PHUSE HOW Convert SAS Tables.step","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e/copy","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","uri":"/dataFlows/steps/1915524b-cfcf-4dd2-8a9a-468471c20f5e","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"inTable","displayName":"Input table","localDisplayName":"Input table","description":"Input table","localDescription":"Input table","minEntries":1,"maxEntries":1,"defaultEntries":0,"type":"table"}],"outputPorts":[]},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"inPage\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Rank Options\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"inTable\",\n\t\t\t\t\t\"type\": \"inputtable\",\n\t\t\t\t\t\"label\": \"Select an input table:\",\n\t\t\t\t\t\"required\": true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"inputdata1\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"Rename or keep the same name\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"inputpath1\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"Input path to save your data\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"ur_dbms1\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"DBMS: xlsx\\\\csv\\\\tab\\\\json\\\\all\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"inputdata1\": \"\",\n\t\t\"inputpath1\": \"/nfsshare/sashls/home/<userid>/PHUSE_HOW_2024/data\",\n\t\t\"ur_dbms1\": \"all\"\n\t}\n}","templates":{"SAS":"/***********************************************************************\n Generate a PROC RANK requiring a single rank variable and optionally\n creating a new variable for the rank result.\n***********************************************************************/\n\n/* The %IF checks to see if the checkbox is checked and, if so,\n   generates a RANKS statement to create a new variable. */\n\n%macro convert;\n\n%if %lowcase(&ur_dbms1) ne json and %lowcase(&ur_dbms1) ne all  %then\n\t%do;\n\t\tproc export data=&inTable. \n\t\t  dbms=&ur_dbms1. \n\t\t  outfile=\"&inputpath1./&inputdata1..&ur_dbms1.\" \n\t\t  replace;\n\t\trun;\n\t%end;\n%else %if %lowcase(&ur_dbms1) = json %then\n\t%do;\n\t\tproc json out=\"&inputpath1./&inputdata1..&ur_dbms1.\" pretty;\n\t\t   export &inTable.;\n\t\trun;\n\t%end;\n%else %if %lowcase(&ur_dbms1) = all %then\n\t%do;\n\n\t\tproc export data=&inTable.\n\t\t  dbms=xlsx \n\t\t  outfile=\"&inputpath1./&inputdata1..xlsx\" \n\t\t  replace;\n\t\trun;\n\t\t\n\t\tproc export data=&inTable.\n\t\t  dbms=csv\n\t\t  outfile=\"&inputpath1./&inputdata1..csv\" \n\t\t  replace;\n\t\trun;\n\t\t\n\t\tproc export data=&inTable.\n\t\t  dbms=tab \n\t\t  outfile=\"&inputpath1./&inputdata1..txt\" \n\t\t  replace;\n\t\trun;\n\t\t\n\t\tproc json out=\"&inputpath1./&inputdata1..json\" pretty;\n\t\t   export &inTable.;\n\t\trun;\n\n\t%end;\n\n%mend convert;\n\t %convert;\n\n\n/* More information about prompt controls and generated macro variables\n   is available in the sample controls custom step. */\n"}}